{"ast":null,"code":"var _jsxFileName = \"/Users/pelumi/Documents/GitHub/cashiet-frontend/src/protect-route.js\",\n    _s = $RefreshSig$();\n\nimport { Outlet, Navigate } from 'react-router'; // import store from \"./store/index\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useAuth = () => {\n  // let token =localStorage.getItem('token');\n  //     store\n  //     .post({\n  //         endpoint:\"verify-token\",\n  //         details:{token:token}\n  // })\n  //     .then((data) => {\n  //         var user_details = data.data.data;\n  //         var result = encodeURIComponent(JSON.stringify(user_details));\n  //         localStorage.setItem(\"kaffir_user\", result);\n  //     })\n  //     .catch((error) => {\n  //         var error_message = error.response.data.message;\n  //         if (error_message === 'Token has expired') {\n  //             localStorage.removeItem('kaffir_token');\n  //             localStorage.removeItem('kaffir_user');\n  //             window.location.href='/signin';\n  //         }\n  //     });\n  let user = false;\n\n  if (localStorage.getItem('_ux')) {\n    return user = true;\n  }\n\n  return user;\n};\n\nconst ProtectRoute = () => {\n  _s();\n\n  const isAuth = useAuth();\n  return isAuth ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 20\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/sign-in\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 32\n  }, this);\n};\n\n_s(ProtectRoute, \"/wDgZUEcG5U+Eq7/9u8RJtk8mAs=\", false, function () {\n  return [useAuth];\n});\n\n_c = ProtectRoute;\nexport default ProtectRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectRoute\");","map":{"version":3,"names":["Outlet","Navigate","useAuth","user","localStorage","getItem","ProtectRoute","isAuth"],"sources":["/Users/pelumi/Documents/GitHub/cashiet-frontend/src/protect-route.js"],"sourcesContent":["import { Outlet, Navigate } from 'react-router';\n// import store from \"./store/index\";\n\nconst useAuth= ()=>{\n// let token =localStorage.getItem('token');\n\n//     store\n//     .post({\n//         endpoint:\"verify-token\",\n//         details:{token:token}\n\n// })\n//     .then((data) => {\n//         var user_details = data.data.data;\n//         var result = encodeURIComponent(JSON.stringify(user_details));\n//         localStorage.setItem(\"kaffir_user\", result);\n//     })\n//     .catch((error) => {\n//         var error_message = error.response.data.message;\n//         if (error_message === 'Token has expired') {\n//             localStorage.removeItem('kaffir_token');\n//             localStorage.removeItem('kaffir_user');\n//             window.location.href='/signin';\n//         }\n\n      \n//     });\n    let user = false;\n    if (localStorage.getItem('_ux')) {\n        return user=true;\n    }\n    return user;\n}\nconst ProtectRoute = () => {\n    const isAuth= useAuth();\n    return isAuth? <Outlet/> : <Navigate to='/sign-in'/>;\n}\nexport default ProtectRoute;"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,cAAjC,C,CACA;;;;AAEA,MAAMC,OAAO,GAAE,MAAI;EACnB;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EACI,IAAIC,IAAI,GAAG,KAAX;;EACA,IAAIC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAJ,EAAiC;IAC7B,OAAOF,IAAI,GAAC,IAAZ;EACH;;EACD,OAAOA,IAAP;AACH,CA7BD;;AA8BA,MAAMG,YAAY,GAAG,MAAM;EAAA;;EACvB,MAAMC,MAAM,GAAEL,OAAO,EAArB;EACA,OAAOK,MAAM,gBAAE,QAAC,MAAD;IAAA;IAAA;IAAA;EAAA,QAAF,gBAAc,QAAC,QAAD;IAAU,EAAE,EAAC;EAAb;IAAA;IAAA;IAAA;EAAA,QAA3B;AACH,CAHD;;GAAMD,Y;UACYJ,O;;;KADZI,Y;AAIN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}